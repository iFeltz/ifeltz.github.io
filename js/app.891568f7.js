(function(t){function e(e){for(var i,r,c=e[0],l=e[1],o=e[2],u=0,f=[];u<c.length;u++)r=c[u],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&f.push(n[r][0]),n[r]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);d&&d(e);while(f.length)f.shift()();return s.push.apply(s,o||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],i=!0,c=1;c<a.length;c++){var l=a[c];0!==n[l]&&(i=!1)}i&&(s.splice(e--,1),t=r(r.s=a[0]))}return t}var i={},n={app:0},s=[];function r(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=i,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(a,i,function(e){return t[e]}.bind(null,i));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var o=0;o<c.length;o++)e(c[o]);var d=l;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0f6f":function(t,e,a){},"11df":function(t,e,a){var i=a("038a");i.register({star:{width:16,height:16,viewBox:"0 0 47.94 47.94",data:'<path pid="0" d="M26.285 2.486l5.407 10.956a2.58 2.58 0 001.944 1.412l12.091 1.757c2.118.308 2.963 2.91 1.431 4.403l-8.749 8.528a2.582 2.582 0 00-.742 2.285l2.065 12.042c.362 2.109-1.852 3.717-3.746 2.722l-10.814-5.685a2.585 2.585 0 00-2.403 0l-10.814 5.685c-1.894.996-4.108-.613-3.746-2.722l2.065-12.042a2.582 2.582 0 00-.742-2.285L.783 21.014c-1.532-1.494-.687-4.096 1.431-4.403l12.091-1.757a2.58 2.58 0 001.944-1.412l5.407-10.956c.946-1.919 3.682-1.919 4.629 0z"/>'}})},1546:function(t,e,a){"use strict";var i=a("c3a1"),n=a.n(i);n.a},"21bb":function(t,e,a){"use strict";var i=a("7a98"),n=a.n(i);n.a},"29cd":function(t,e,a){"use strict";var i=a("0f6f"),n=a.n(i);n.a},"44c2":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("f751"),a("097d"),a("fb98");var i=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},s=[],r=(a("5c0b"),a("2877")),c={},l=Object(r["a"])(c,n,s,!1,null,null,null),o=l.exports,d=a("8c4f"),u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("tabs",{attrs:{items:t.apps}})],1)},f=[],p=(a("96cf"),a("3b8d")),v=(a("456d"),a("ac6a"),a("2f62")),h=a("bc3a"),m=a.n(h);i["a"].use(v["a"]);var _=new v["a"].Store({state:{data:null,appsFilter:[]},mutations:{setData:function(t,e){t.data=e,Object.keys(e).forEach(function(e){var a={id:e,model:-1,rating:-1};t.appsFilter.push(a)})}},actions:{fetchData:function(){var t=Object(p["a"])(regeneratorRuntime.mark(function t(e,a){var i,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return i=e.commit,t.prev=1,t.next=4,m.a.get("./apps.json");case 4:return n=t.sent,i("setData",n.data),t.abrupt("return",n.data);case 9:t.prev=9,t.t0=t["catch"](1),console.error(t.t0.message);case 12:case"end":return t.stop()}},t,null,[[1,9]])}));function e(e,a){return t.apply(this,arguments)}return e}()}}),b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tabs"},[a("div",{staticClass:"tabs-header"},[a("div",{staticClass:"tabs-header-items"},t._l(t.items,function(e,i){return a("div",{key:"tab header - "+i,class:["tabs-header__item",{"tabs-header__item-active":t.activeTab===i}],on:{click:function(e){return t.openTab(i)}}},[t._v("\n        "+t._s(e.name)+"\n      ")])}),0),a("div",{staticClass:"tabs-header__filter"},[a("v-filter",{attrs:{"active-tab":t.activeTab,models:t.models,ratings:t.ratings}})],1)]),a("div",{staticClass:"tabs-content"},t._l(t.apps,function(t,e){return a("div",{key:"app index - "+e,staticClass:"tabs-content__card"},[a("card",{attrs:{item:t}})],1)}),0)])},g=[],w=(a("a481"),a("c5f6"),a("7514"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"filter"},[a("div",{staticClass:"filter-block"},[a("div",{staticClass:"filter__title"},[t._v("Фильтр")]),a("div",{staticClass:"filter-models"},t._l(t.models,function(e,i){return a("filter-btn",{key:"filter btn - "+i,attrs:{active:t.activeModel===e.id},nativeOn:{click:function(a){return t.onSelectModel(e.id)}}},[e.icon?a("svgicon",{attrs:{name:e.icon,width:"16",height:"18"}}):a("span",{domProps:{innerHTML:t._s(e.label)}})],1)}),1)]),a("div",{staticClass:"filter-block"},[a("div",{staticClass:"filter__title"},[t._v("Рейтинг")]),a("div",{staticClass:"filter-rating"},[a("filter-select",{attrs:{options:t.ratings,value:t.activeRating,iconColor:"#F8BF25"},on:{change:t.onSelectRating}})],1)])])}),C=[],y=(a("6750"),a("987f"),a("11df"),a("874b"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:["filter__btn",{"filter__btn-active":t.active}]},[t._t("default",[t._v(t._s(t.label))])],2)}),O=[],x={props:{label:{type:String,default:""},active:{type:Boolean,default:!1}}},j=x,T=(a("1546"),Object(r["a"])(j,y,O,!1,null,null,null)),M=T.exports,k=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"filter-select"},[a("div",{staticClass:"filter-select__selected",on:{click:t.toggleOptions}},[t._v("\n      "+t._s(t.selectedId?t.selected.label:"Выбрать")+"\n      "),t.selectedId&&t.selected.icon?a("svgicon",{staticClass:"filter-select__icon",style:{fill:t.selected.iconColor||t.iconColor},attrs:{name:t.selected.icon,width:"15",height:"15"}}):t._e()],1),a("svgicon",{staticClass:"filter-select__arrow",attrs:{name:"arrow",dir:t.show?"down":"up",width:"8",height:"8"}}),a("transition",{attrs:{name:"fast",mode:"out-in"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],class:["filter-select-options",{show:t.show}]},t._l(t.filteredItems,function(e,i){return a("div",{key:"filter select options - "+i,staticClass:"filter-select-options__item",on:{click:function(a){return t.onSelect(e.id)}}},[t._v("\n        "+t._s(e.label)+"\n        "),e.icon?a("svgicon",{staticClass:"filter-select__icon",style:{fill:e.iconColor||t.iconColor},attrs:{name:e.icon,width:"15",height:"15"}}):t._e()],1)}),0)])],1)},S=[],$=(a("20d6"),a("75fc")),I=(a("fb7a"),{props:{options:{type:Array,default:function(){return[]}},iconColor:{type:String,default:"inherit"},value:{type:Number,default:0}},data:function(){return{selectedId:0,show:!1}},watch:{value:function(t){console.log(t),this.selectedId=t}},computed:{selected:function(){var t=this;return this.items.find(function(e){return e.id===t.selectedId})},items:function(){var t=Object($["a"])(this.options);return t.unshift({id:-1,label:"Все"}),t},filteredItems:function(){var t=this,e=Object($["a"])(this.items);if(this.selectedId){var a=e.findIndex(function(e){return e.id===t.selectedId});e.splice(a,1)}else e.splice(0,1);return e}},methods:{toggleOptions:function(){this.show=!this.show},onSelect:function(t){this.selectedId=t,this.$emit("change",t),this.show=!1}}}),P=I,z=(a("5855"),Object(r["a"])(P,k,S,!1,null,null,null)),A=z.exports,F={props:{activeTab:{type:String,default:""},models:{type:Array,default:function(){return[]}},ratings:{type:Array,default:function(){return[]}}},components:{filterBtn:M,filterSelect:A},data:function(){return{activeModel:-1,activeRating:-1}},watch:{activeTab:function(t){var e=this;this.activeModel=this.$store.state.appsFilter.find(function(t){return t.id===e.activeTab}).model,this.activeRating=this.$store.state.appsFilter.find(function(t){return t.id===e.activeTab}).rating}},computed:{filterData:function(){return this.$store.state.appsFilter}},methods:{onSelectModel:function(t){var e=this;this.activeModel=t,this.$store.state.appsFilter.find(function(t){return t.id===e.activeTab}).model=t},onSelectRating:function(t){var e=this;this.activeRating=t,this.$store.state.appsFilter.find(function(t){return t.id===e.activeTab}).rating=t}}},D=F,R=(a("6136"),Object(r["a"])(D,w,C,!1,null,null,null)),B=R.exports,E=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card"},[a("div",{staticClass:"card-main"},[a("div",{staticClass:"card-main__img",style:{backgroundImage:"url("+t.item.icon+")"}}),a("div",{staticClass:"card-main-content"},[a("div",{staticClass:"card__title",attrs:{title:t.item.name}},[t._v(t._s(t.name))]),a("div",{staticClass:"card-main-info"},[a("div",{staticClass:"card-main-info__label"},[t.item.platform?a("svgicon",{staticClass:"card-main-info__platform",attrs:{name:t.platform,width:"12",height:"14"}}):t._e(),a("div",{staticClass:"card-main-info__price"},[t._v(t._s(t.item.price))])],1),a("div",{staticClass:"card-main-info__label"},[a("svgicon",{staticClass:"card-main-info__star",attrs:{name:"star",width:"20",height:"19"}}),a("span",{staticClass:"card-main-info__rating"},[t._v(t._s(t.item.rating))])],1),a("div",{staticClass:"card-main-info__label"},[a("svgicon",{staticClass:"card-main-info__mark",attrs:{name:"mark",width:"9",height:"12"}}),a("span",{staticClass:"card-main-info__location"},[t._v(t._s(t.item.location))])],1)])])]),a("div",{staticClass:"card-statistics"},[a("div",{staticClass:"card-statistics__item"},[a("div",{staticClass:"card-statistics__item-label"},[t._v("ASO index")]),a("div",{staticClass:"card-statistics__item-value"},[t._v(t._s(t.item.asoindex))])]),a("div",{staticClass:"card-delimiter"}),a("div",{staticClass:"card-statistics__item"},[a("div",{staticClass:"card-statistics__item-label"},[t._v("Установок за месяц")]),a("div",{staticClass:"card-statistics__item-value"},[t._v(t._s(t.installations))])]),a("div",{staticClass:"card-delimiter"}),a("div",{staticClass:"card-statistics__item"},[a("div",{staticClass:"card-statistics__item-label"},[t._v("В категории")]),a("div",{staticClass:"card-statistics__item-value"},[t._v(t._s(t.item.categoryPosition))])])])])},N=[],L=(a("28a5"),a("6b54"),a("7f7f"),{props:{item:{type:Object,default:function(){return{}}}},computed:{name:function(){var t=this.item.name;return t.length>40&&(t=t.slice(0,40)+"..."),t},platform:function(){return"iphone"===this.item.platform?"apple":this.item.platform},installations:function(){var t=this.item.installations;return t=this.formatNumber(t),t}},methods:{formatNumber:function(t){if(t<1e3)return t;var e=t.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"),a=e.split(","),i=a.length-1;e=Math.round(Number(a[0]+"."+a[1][0]));while(i>0)e+="K",i--;return e+=".",e}}}),H=L,V=(a("29cd"),Object(r["a"])(H,E,N,!1,null,null,null)),G=V.exports,J={props:{items:{type:Object,default:function(){return{}}}},components:{vFilter:B,card:G},data:function(){return{activeTab:"",unwatchItems:null,models:[{id:-1,label:"Все",type:"any"},{id:1001,value:"apple",icon:"apple"},{id:1002,value:"android",icon:"android"}],ratings:[{id:2001,value:4,label:"от 4,0",icon:"star"},{id:2002,value:3,label:"от 3,0",icon:"star"},{id:2003,value:2,label:"от 2,0",icon:"star"}]}},created:function(){var t=this;this.unwatchItems=this.$watch("items",function(e,a){t.setActiveTab()},{deep:!0})},computed:{filterData:function(){var t=this;return this.activeTab?this.$store.state.appsFilter.find(function(e){return e.id===t.activeTab}):[]},apps:function(){if(!this.activeTab)return[];var t=this.items[this.activeTab].applications,e=this.filterData.model,a=this.filterData.rating,i=this.models.find(function(t){return t.id===e}),n=this.ratings.find(function(t){return t.id===a});return console.log(t),i&&"any"!==i.type||n?(t=t.filter(function(t){var e=Number(t.rating.replace(",",".")),a="iphone"===t.platform?"apple":t.platform;return(!i||"any"===i.type||a===i.value)&&(!(n&&e<n.value)&&t)}),t):t}},methods:{openTab:function(t){this.activeTab=t},setActiveTab:function(){var t=Object.keys(this.items)[0];t&&(this.activeTab=t,this.unwatchItems())}}},K=J,q=(a("a20f"),Object(r["a"])(K,b,g,!1,null,null,null)),Q=q.exports,U={name:"home",components:{tabs:Q},mounted:function(){this.fetchData()},computed:{apps:function(){return this.$store.state.data}},methods:{fetchData:function(){var t=Object(p["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,_.dispatch("fetchData");case 2:case"end":return t.stop()}},t)}));function e(){return t.apply(this,arguments)}return e}()}},W=U,X=(a("21bb"),Object(r["a"])(W,u,f,!1,null,null,null)),Y=X.exports;i["a"].use(d["a"]);var Z=new d["a"]({mode:"history",base:"/",routes:[{path:"/",name:"home",component:Y}]}),tt=a("038a"),et=a.n(tt);i["a"].use(et.a,{tagName:"svgicon"}),i["a"].config.productionTip=!1,new i["a"]({router:Z,store:_,render:function(t){return t(o)}}).$mount("#app")},5855:function(t,e,a){"use strict";var i=a("c937"),n=a.n(i);n.a},"5c0b":function(t,e,a){"use strict";var i=a("e332"),n=a.n(i);n.a},6136:function(t,e,a){"use strict";var i=a("44c2"),n=a.n(i);n.a},6750:function(t,e,a){var i=a("038a");i.register({apple:{width:15.891,height:19.445,viewBox:"0 0 15.891 19.445",data:'<path pid="0" d="M.825 7.148c-1.644 2.853-.6 7.182 1.219 9.807.907 1.312 1.826 2.49 3.084 2.49H5.2a3.809 3.809 0 001.431-.382 3.92 3.92 0 011.7-.4 3.686 3.686 0 011.614.389 3.42 3.42 0 001.546.371c1.417-.026 2.288-1.3 3.055-2.419a10.721 10.721 0 001.339-2.742l.005-.017a.159.159 0 00-.085-.2h-.012a4.063 4.063 0 01-2.468-3.724 4.182 4.182 0 011.976-3.5l.016-.01a.159.159 0 00.045-.224 4.6 4.6 0 00-3.617-1.964c-.1-.01-.209-.015-.316-.015a6.306 6.306 0 00-2.27.567 3.65 3.65 0 01-1.088.325 3.558 3.558 0 01-1.125-.329 5.451 5.451 0 00-1.983-.5h-.05A4.862 4.862 0 00.825 7.148z" class="cls-1"/><path pid="1" d="M11.745 0a4.44 4.44 0 00-2.931 1.5 4.16 4.16 0 00-1.053 3.084.159.159 0 00.146.138c.068.005.137.008.206.008a3.755 3.755 0 002.767-1.419A4.385 4.385 0 0011.909.142.16.16 0 0011.745 0z" class="cls-1"/>'}})},"7a98":function(t,e,a){},"874b":function(t,e,a){var i=a("038a");i.register({mark:{width:8.98,height:12.397,viewBox:"0 0 8.98 12.397",data:'<g data-name="Group 1052"><path pid="0" d="M4.49 0A4.5 4.5 0 000 4.49c0 3.072 4.018 7.583 4.189 7.773a.4.4 0 00.6 0c.171-.191 4.189-4.7 4.189-7.773A4.5 4.5 0 004.49 0zm0 6.749A2.259 2.259 0 116.749 4.49 2.262 2.262 0 014.49 6.749z" class="cls-1" data-name="Path 1668"/></g>'}})},"987f":function(t,e,a){var i=a("038a");i.register({android:{width:17.861,height:21.108,viewBox:"0 0 17.861 21.108",data:'<g data-name="Group 34"><path pid="0" d="M1.307 6.837a1.26 1.26 0 00-.926.381 1.246 1.246 0 00-.38.913v5.455a1.3 1.3 0 001.306 1.306 1.239 1.239 0 00.92-.38 1.271 1.271 0 00.374-.926V8.131a1.3 1.3 0 00-1.294-1.294z" class="cls-1" data-name="Path 50"/><path pid="1" d="M3.108 15.526a1.386 1.386 0 001.4 1.4h.939l.013 2.879a1.261 1.261 0 00.381.926 1.245 1.245 0 00.913.381 1.3 1.3 0 001.307-1.307v-2.879h1.75v2.879a1.306 1.306 0 102.613 0v-2.879h.952a1.331 1.331 0 00.977-.406 1.347 1.347 0 00.406-.989V7.083H3.108z" class="cls-1" data-name="Path 51"/><path pid="2" d="M11.81 1.941l.9-1.662a.167.167 0 00-.063-.254.176.176 0 00-.254.076l-.913 1.674a6.367 6.367 0 00-5.1 0L5.467.101A.176.176 0 005.21.026a.167.167 0 00-.063.254l.9 1.662a5.556 5.556 0 00-2.182 1.947 4.918 4.918 0 00-.812 2.734h11.734a4.917 4.917 0 00-.812-2.734 5.578 5.578 0 00-2.165-1.948zM6.603 4.357a.475.475 0 01-.349.146.455.455 0 01-.343-.146.506.506 0 010-.7.455.455 0 01.343-.146.493.493 0 01.349.844zm5.347 0a.456.456 0 01-.343.146.495.495 0 010-.989.456.456 0 01.343.146.506.506 0 010 .7z" class="cls-1" data-name="Path 52"/><path pid="3" d="M17.48 7.211a1.271 1.271 0 00-.926-.374 1.256 1.256 0 00-.913.374 1.24 1.24 0 00-.381.92v5.455a1.26 1.26 0 00.381.926 1.245 1.245 0 00.913.38 1.3 1.3 0 001.307-1.306V8.131a1.239 1.239 0 00-.381-.92z" class="cls-1" data-name="Path 53"/></g>'}})},"9c51":function(t,e,a){},a20f:function(t,e,a){"use strict";var i=a("9c51"),n=a.n(i);n.a},c3a1:function(t,e,a){},c937:function(t,e,a){},e332:function(t,e,a){},fb7a:function(t,e,a){var i=a("038a");i.register({arrow:{width:451.847,height:451.847,viewBox:"0 0 451.847 451.847",data:'<path pid="0" d="M225.923 354.706c-8.098 0-16.195-3.092-22.369-9.263L9.27 151.157c-12.359-12.359-12.359-32.397 0-44.751 12.354-12.354 32.388-12.354 44.748 0l171.905 171.915 171.906-171.909c12.359-12.354 32.391-12.354 44.744 0 12.365 12.354 12.365 32.392 0 44.751L248.292 345.449c-6.177 6.172-14.274 9.257-22.369 9.257z"/>'}})},fb98:function(t,e,a){}});
//# sourceMappingURL=app.891568f7.js.map